<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Tables</title>
  <base target="_self">


  <style type="text/css">
    body,
    html {
      height: 100%;
    }

    /*
 * Off Canvas sidebar at medium breakpoint
 * --------------------------------------------------
 */
    @media screen and (max-width: 992px) {

      .row-offcanvas {
        position: relative;
        -webkit-transition: all 0.25s ease-out;
        -moz-transition: all 0.25s ease-out;
        transition: all 0.25s ease-out;
      }

      .row-offcanvas-left .sidebar-offcanvas {
        left: -33%;
      }

      .row-offcanvas-left.active {
        left: 33%;
        margin-left: -6px;
      }

      .sidebar-offcanvas {
        position: absolute;
        top: 0;
        width: 33%;
        height: 100%;
      }
    }

    /*
 * Off Canvas wider at sm breakpoint
 * --------------------------------------------------
 */
    @media screen and (max-width: 34em) {
      .row-offcanvas-left .sidebar-offcanvas {
        left: -45%;
      }

      .row-offcanvas-left.active {
        left: 45%;
        margin-left: -6px;
      }

      .sidebar-offcanvas {
        width: 45%;
      }
    }

    .card {
      overflow: hidden;
    }

    .card-body .rotate {
      z-index: 8;
      float: right;
      height: 100%;
    }

    .card-body .rotate i {
      color: rgba(20, 20, 20, 0.15);
      position: absolute;
      left: 0;
      left: auto;
      right: -10px;
      bottom: 0;
      display: block;
      -webkit-transform: rotate(-44deg);
      -moz-transform: rotate(-44deg);
      -o-transform: rotate(-44deg);
      -ms-transform: rotate(-44deg);
      transform: rotate(-44deg);
    }
  </style>

</head>

<body>


  <nav class="navbar fixed-top navbar-expand-md navbar-dark bg-primary mb-3">
    <div class="flex-row d-flex">
      <button type="button" class="navbar-toggler mr-2 " data-toggle="offcanvas" title="Toggle responsive left sidebar">
        <span class="navbar-toggler-icon"></span>
      </button>
      <a class="navbar-brand" href="#" title="Free Bootstrap 4 Admin Template">Admin Template</a>
    </div>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsingNavbar">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-collapse collapse" id="collapsingNavbar">
      <ul class="navbar-nav">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">Home</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="//www.codeply.com">Link</a>
        </li>
      </ul>
      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a class="nav-link" href="#myAlert" data-toggle="collapse">Alert</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="" data-target="#myModal" data-toggle="modal">About</a>
        </li>
      </ul>
    </div>
  </nav>
  <div class="row row-offcanvas row-offcanvas-left">
    <div class="col-md-3 col-lg-2 sidebar-offcanvas bg-light pl-0" id="sidebar" role="navigation">
      <ul class="nav flex-column sticky-top pl-0 pt-5 mt-3">
        <li class="nav-item"><a class="nav-link" href="#">Overview</a></li>
        <li class="nav-item">
          <a class="nav-link" href="#submenu1" data-toggle="collapse" data-target="#submenu1">Reportsâ–¾</a>
          <ul class="list-unstyled flex-column pl-3 collapse" id="submenu1" aria-expanded="false">
            <li class="nav-item"><a class="nav-link" href="">Report 1</a></li>
            <li class="nav-item"><a class="nav-link" href="">Report 2</a></li>
          </ul>
        </li>
        <li class="nav-item"><a class="nav-link" href="#">Analytics</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Export</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Snippets</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Flexbox</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Layouts</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Templates</a></li>
        <li class="nav-item"><a class="nav-link" href="#">Themes</a></li>
      </ul>
    </div>
    <!--/col-->
    <div class="col main pt-5 mt-3">
      <div class="card mb-3">
        <div class="card-header">
          <i class="fas fa-table"></i>
          Data Table Example</div>
        <div class="card-body">
          <div class="table-responsive">
            <div id="dataTable_wrapper" class="dataTables_wrapper dt-bootstrap4">

              <div class="row">
                <div class="col-sm-12">

                  <table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid"
                    aria-describedby="dataTable_info" style="width: 100%;">
                    <thead>
                      <tr role="row">
                        <th class="sorting_asc" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1"
                          aria-sort="ascending" aria-label="#: activate to sort column descending" style="width: 158px;">#</th>
                        <th class="sorting_asc" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1"
                          aria-sort="ascending" aria-label="Name: activate to sort column descending" style="width: 158px;">Name</th>
                        <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Type: activate to sort column ascending"
                          style="width: 269px;">Type</th>
                        <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Size: activate to sort column ascending"
                          style="width: 114px;">Size</th>
                        <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Default: activate to sort column ascending"
                          style="width: 52px;">Null</th>
                        <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Default: activate to sort column ascending"
                          style="width: 52px;">Default</th>
                        <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="Index date: activate to sort column ascending"
                          style="width: 111px;">Index</th>
                        <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="AI: activate to sort column ascending"
                          style="width: 89px;">AI</th>
                        <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="ReferencesTable: activate to sort column ascending"
                          style="width: 89px;">ReferencesTable</th>
                      </tr>
                    </thead>
                    <tfoot>
                      <tr>
                        <th rowspan="1" colspan="1">#</th>
                        <th rowspan="1" colspan="1">Name</th>
                        <th rowspan="1" colspan="1">Type</th>
                        <th rowspan="1" colspan="1">Size</th>
                        <th rowspan="1" colspan="1">Null</th>
                        <th rowspan="1" colspan="1">Default</th>
                        <th rowspan="1" colspan="1">Index</th>
                        <th rowspan="1" colspan="1">AI</th>
                        <th rowspan="1" colspan="1">ReferencesTable</th>
                      </tr>
                    </tfoot>

                    <tbody>

                      <tr *ngFor="let row of rows;let i=index" role="row" class="odd">
                        <td class="sorting_1"> <input [(ngModel)]="srows[i]" class="form-control" name="ais-{{i}}" type="checkbox"
                            autofocus=""></td>
                        <td class="sorting_1"> <input [(ngModel)]="names[i]" class="form-control" placeholder="name"
                            name="names-{{i}}" type="text" autofocus=""></td>
                        <td class="sorting_1">
                          <select [(ngModel)]="types[i]" class="custom-select mr-sm-2" id="inlineFormCustomSelect">
                            <option disabled selected></option>
                            <option [value]="dtype" *ngFor="let dtype of dtypes" selected>{{dtype}}</option>
                            <option disabled></option>
                            <option disabled>Numeric</option>
                            <option [value]="ntype" *ngFor="let ntype of ntypes" selected>{{ntype}}</option>
                            <option disabled></option>
                            <option disabled>Segment</option>
                            <option [value]="stype" *ngFor="let stype of stypes" selected>{{stype}}</option>
                            <option disabled></option>
                            <option disabled>Date and Time {{hasPk}}</option>
                            <option [value]="ttype" *ngFor="let ttype of ttypes" selected>{{ttype}}</option>
                          </select></td>
                        <td class="sorting_1"> <input [(ngModel)]="sizes[i]" class="form-control" placeholder="size"
                            name="sizes-{{i}}" type="text" autofocus=""></td>
                        <td class="sorting_1"> <input [(ngModel)]="nullAs[i]" class="form-control" name="ais-{{i}}"
                            type="checkbox" autofocus=""></td>
                        <td class="sorting_1"> <input [(ngModel)]="defaultAs[i]" class="form-control" placeholder="default"
                            name="defaultAs-{{i}}" type="text" autofocus=""></td>
                        <td class="sorting_1">
                          <select (change)="change() " [(ngModel)]="indexs[i]" class="custom-select mr-sm-2" id="inlineFormCustomSelect2">
                             <option [value]="lindex" [disabled]="lindex == 'PRIMARY' && hasPk == true  || selectPk == true && lindex == 'PRIMARY'" *ngFor="let lindex of lindexs" selected>{{lindex}}</option>
                          </select></td>
                        <td class="sorting_1"> <input [(ngModel)]="ais[i]" class="form-control" placeholder="ai" name="ais-{{i}}"
                            type="checkbox" autofocus=""></td>

                        <td class="sorting_1"> 
                          <select [(ngModel)]="referencesTables[i]" class="custom-select mr-sm-2" id="inlineFormCustomSelect2">
                            <option  selected></option>
                            <option [value]="tab.name" [disabled]="tab.id == id" *ngFor="let tab of tablesRef" selected>{{tab.name}}</option>
                         </select>
                        </td>

                      </tr>
                    </tbody>

                  </table>
                </div>
              </div>
              <div class="row" >

                <div class="col-sm-12 col-md-1">
                    <input [(ngModel)]="add" class="form-control"
                   name="referencesTables-{{i}}" type="text" autofocus="">

                </div>
              
                <div class="col-sm-12 col-md-2">
                    <button type="submit" class="btn btn-success" (click)="addRow(add)">Add Row(s)</button>
  
                  </div>

                  <div class="col-sm-12 col-md-7">
                      <button type="submit" class="btn btn-danger" (click)="removeRow()">Remove selected Row(s)</button>
    
                    </div>

                <div class="col-sm-12 col-md-2">
                  <button type="submit" class="btn btn-success" (click)="new()">Save</button>

                </div>

              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!--/main col-->
  </div>




  <script>
    // sandbox disable popups
    if (window.self !== window.top && window.name != "view1") {
      ;
      window.alert = function () {/*disable alert*/ };
      window.confirm = function () {/*disable confirm*/ };
      window.prompt = function () {/*disable prompt*/ };
      window.open = function () {/*disable open*/ };
    }

    // prevent href=# click jump
    document.addEventListener("DOMContentLoaded", function () {
      var links = document.getElementsByTagName("A");
      for (var i = 0; i < links.length; i++) {
        if (links[i].href.indexOf('#') != -1) {
          links[i].addEventListener("click", function (e) {
            console.debug("prevent href=# click");
            if (this.hash) {
              if (this.hash == "#") {
                e.preventDefault();
                return false;
              }
              else {
                /*
                var el = document.getElementById(this.hash.replace(/#/, ""));
                if (el) {
                  el.scrollIntoView(true);
                }
                */
              }
            }
            return false;
          })
        }
      }
    }, false);
  </script>

  <!--scripts loaded here-->



  <script>
    $(document).ready(function () {

      $('[data-toggle=offcanvas]').click(function () {
        $('.row-offcanvas').toggleClass('active');
      });

    });
  </script>



</body>

</html>